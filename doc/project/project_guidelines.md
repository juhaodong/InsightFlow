# InsightFlow 项目开发指南

本文档提供了 InsightFlow 项目的开发指南，包括开发标准、工作流程、代码贡献规范、测试和质量保证指南、文档标准以及发布流程。所有项目参与者都应该遵循这些指南，以确保项目的一致性和高质量。

## 目录

1. [项目概述](#项目概述)
2. [开发环境设置](#开发环境设置)
3. [开发标准和规范](#开发标准和规范)
4. [工作流程和协作指南](#工作流程和协作指南)
5. [代码贡献规范](#代码贡献规范)
6. [测试和质量保证](#测试和质量保证)
7. [文档标准](#文档标准)
8. [发布流程](#发布流程)
9. [常见问题解答](#常见问题解答)

## 项目概述

InsightFlow 是一个基于 AI 的流程挖掘系统，旨在从非结构化或半结构化的企业文件中提取和可视化业务流程。项目的主要目标是：

- 开发一个能够处理 PDF、Word、Excel 等格式文件的系统
- 使用 AI 技术对文件内容进行结构化分析和分类
- 自动识别和可视化业务流程
- 提供自然语言查询接口，让用户能够获取关于流程和文件的洞见

更详细的项目描述请参阅 [project_description.md](./project_description.md)。

## 开发环境设置

### 前提条件

- Git
- 代码编辑器（推荐 Visual Studio Code）
- 前端开发环境（待定）
- 后端开发环境（待定）
- AI 模型开发环境（待定）

### 安装步骤

1. 克隆仓库
   ```
   git clone https://github.com/yourusername/InsightFlow.git
   cd InsightFlow
   ```

2. 安装依赖（待项目技术栈确定后更新）
   ```
   # 前端依赖安装
   cd frontend
   # 安装命令待定
   
   # 后端依赖安装
   cd ../backend
   # 安装命令待定
   
   # AI 模型依赖安装
   cd ../src/ai
   # 安装命令待定
   ```

3. 配置环境变量（待项目技术栈确定后更新）
   ```
   # 配置命令待定
   ```

4. 运行开发服务器（待项目技术栈确定后更新）
   ```
   # 运行命令待定
   ```

## 开发标准和规范

### 代码风格

#### 通用规范

- 使用 UTF-8 编码
- 使用 LF（Unix）换行符
- 文件末尾保留一个空行
- 删除行尾空格
- 最大行长度为 100 字符
- 使用有意义的变量名和函数名
- 遵循 DRY（Don't Repeat Yourself）原则
- 注释应该解释为什么，而不是什么

#### 前端代码规范（待技术栈确定后更新）

- 命名约定
  - 组件使用 PascalCase
  - 变量和函数使用 camelCase
  - 常量使用 UPPER_SNAKE_CASE
- 文件组织
  - 每个组件一个文件
  - 相关组件放在同一目录下
- CSS/SCSS 规范
  - 使用 BEM 命名约定
  - 避免使用 !important
- 其他前端特定规范

#### 后端代码规范（待技术栈确定后更新）

- 命名约定
  - 类使用 PascalCase
  - 方法和变量使用 camelCase
  - 常量使用 UPPER_SNAKE_CASE
- 文件组织
  - 按功能模块组织代码
  - 遵循 MVC 或类似架构模式
- API 设计规范
  - RESTful API 设计原则
  - 一致的错误处理和响应格式
- 其他后端特定规范

#### AI 模型代码规范

- 命名约定
  - 模型类使用 PascalCase
  - 函数和变量使用 snake_case（如果使用 Python）
- 文件组织
  - 按功能模块组织代码
  - 模型定义和训练代码分离
- 其他 AI 模型特定规范

### 数据库规范（待技术栈确定后更新）

- 命名约定
  - 表名使用复数形式
  - 字段名使用 snake_case
  - 主键命名为 id
  - 外键命名为 entity_id
- 索引和约束
  - 适当使用索引提高查询性能
  - 使用外键约束保证数据完整性
- 其他数据库特定规范

## 工作流程和协作指南

### Git 工作流

我们采用基于功能分支的 Git 工作流：

1. 从 `main` 分支创建新的功能分支
   ```
   git checkout main
   git pull
   git checkout -b feature/your-feature-name
   ```

2. 在功能分支上进行开发
   ```
   # 进行代码修改
   git add .
   git commit -m "描述性的提交信息"
   ```

3. 定期从 `main` 分支同步更新
   ```
   git checkout main
   git pull
   git checkout feature/your-feature-name
   git merge main
   # 解决可能的冲突
   ```

4. 完成功能后，创建 Pull Request
   - 提供清晰的 PR 描述
   - 关联相关 Issue
   - 请求至少一位团队成员进行代码审查

5. 代码审查通过后，合并到 `main` 分支

### 分支命名约定

- 功能分支：`feature/feature-name`
- 修复分支：`fix/bug-name`
- 文档分支：`docs/document-name`
- 重构分支：`refactor/component-name`

### 提交信息规范

提交信息应遵循以下格式：

```
<类型>: <简短描述>

<详细描述（可选）>

<相关 Issue（可选）>
```

类型包括：
- `feat`：新功能
- `fix`：错误修复
- `docs`：文档更改
- `style`：不影响代码含义的更改（空格、格式化等）
- `refactor`：既不修复错误也不添加功能的代码更改
- `test`：添加或修改测试
- `chore`：对构建过程或辅助工具的更改

示例：
```
feat: 添加文件上传组件

实现了支持拖放和多文件上传的组件

Closes #123
```

### 会议和沟通

- 每周进行一次进度沟通会议，时长 30 分钟到 1 小时
- 会议形式：回顾上次会议的行动内容及完成情况，参与成员自我介绍，主持人发言，讨论议题，主持人总结并确定行动内容
- 使用项目仓库中的 `doc/meetings` 目录记录会议议题和纪要
- 日常沟通渠道（待定）

## 代码贡献规范

### 贡献流程

1. 查看项目 Issues，选择要解决的问题或提出新的功能建议
2. 按照 [Git 工作流](#git-工作流) 创建功能分支并进行开发
3. 确保代码符合 [开发标准和规范](#开发标准和规范)
4. 编写必要的测试，确保测试通过
5. 更新相关文档
6. 提交 Pull Request
7. 根据代码审查反馈进行修改
8. 合并到主分支

### Pull Request 要求

- 提供清晰的描述，说明实现的功能或修复的问题
- 关联相关 Issue
- 确保所有测试通过
- 确保代码符合项目规范
- 更新相关文档

### 代码审查指南

- 审查代码的功能正确性
- 检查代码是否符合项目规范
- 评估代码的可维护性和可扩展性
- 检查测试覆盖率
- 提供建设性的反馈

## 测试和质量保证

### 测试策略

- 单元测试：测试独立的代码单元
- 集成测试：测试组件之间的交互
- 端到端测试：测试整个应用流程
- 性能测试：评估系统性能和响应时间

### 测试工具（待技术栈确定后更新）

- 前端测试框架：[待定]
- 后端测试框架：[待定]
- AI 模型测试工具：[待定]
- 端到端测试工具：[待定]

### 测试覆盖率要求

- 核心功能：至少 80% 的测试覆盖率
- 非核心功能：至少 60% 的测试覆盖率

### 代码质量工具

- 静态代码分析工具：[待定]
- 代码风格检查工具：[待定]
- 依赖安全检查工具：[待定]

## 文档标准

### 文档类型

- 项目文档：描述项目的目标、架构和功能
- API 文档：描述系统 API 的使用方法
- 用户文档：描述系统的使用方法
- 开发文档：描述系统的开发和维护方法

### 文档格式

- 使用 Markdown 格式编写文档
- 文档文件使用 snake_case 命名
- 文档应包含清晰的标题和目录
- 使用适当的标题层级（# 到 ######）
- 代码示例应使用代码块格式
- 使用列表和表格组织信息

### 文档位置

- 项目文档：`doc/project` 目录
- 会议文档：`doc/meetings` 目录
- API 文档：待定
- 用户文档：待定
- 开发文档：待定

## 发布流程

### 版本命名约定

我们使用语义化版本控制（[SemVer](https://semver.org/)）：

- 主版本号：不兼容的 API 更改
- 次版本号：向后兼容的功能添加
- 修订号：向后兼容的错误修复

### 发布周期

- Alpha 版本：2025-06-15
- Beta 版本：2025-07-15
- 正式版本：2025-08-15
- 后续版本：根据项目需求确定

### 发布流程

1. 创建发布分支：`release/vX.Y.Z`
2. 在发布分支上进行最终测试和修复
3. 更新版本号和更新日志
4. 合并到 `main` 分支
5. 创建版本标签
6. 部署到生产环境

### 热修复流程

1. 从 `main` 分支创建热修复分支：`hotfix/issue-description`
2. 在热修复分支上进行修复
3. 更新修订号
4. 合并到 `main` 分支
5. 创建新的版本标签
6. 部署到生产环境

## 常见问题解答

### 如何开始贡献代码？

1. 查看项目 Issues，选择要解决的问题
2. 按照 [Git 工作流](#git-工作流) 创建功能分支
3. 进行开发并提交 Pull Request

### 如何报告 Bug？

1. 检查是否已有相同或类似的 Bug 报告
2. 创建新的 Issue，使用 Bug 报告模板
3. 提供详细的复现步骤和环境信息

### 如何提出新功能建议？

1. 检查是否已有相同或类似的功能建议
2. 创建新的 Issue，使用功能请求模板
3. 描述功能的目的、用例和预期行为

---

本文档将随着项目的发展不断更新。如有任何问题或建议，请联系项目组织者 Haodong Ju (juhaodong@gmail.com)。

最后更新：2025-04-16